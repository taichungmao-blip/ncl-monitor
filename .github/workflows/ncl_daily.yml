- name: Commit and push if changed
        run: |
          git config --global user.name 'GitHub Action'
          git config --global user.email 'action@github.com'
          
          # 檢查 last_seen.txt 是否存在
          if [ -f "last_seen.txt" ]; then
            git add last_seen.txt
            
            # 檢查是否有變動 (如果有變動才 Commit)
            if ! git diff-index --quiet HEAD; then
              git commit -m "Update last seen cruise"
              git push
              echo "已更新 last_seen.txt 並推送到 GitHub"
            else
              echo "last_seen.txt 內容沒有變動，跳過 Commit"
            fi
          else
            echo "尚未生成 last_seen.txt (可能未發現符合條件的行程)，跳過存檔步驟"
          fi
